# 🐴 马年春节引流产品

基于微信公众号的春节引流产品，实现用户关注后自动发送马年主题新年祝福、照片上传生成个性化拜年表情等功能。

## ✨ 核心功能

### 1. 马年主题新年祝福
- 用户关注服务号/订阅号后自动发送马年主题祝福
- 包含动态烟花效果（Canvas实现）
- 丰富的马年吉祥话

### 2. 照片上传生成拜年图
- 支持照片上传
- 8种马年主题模板
- Canvas合成生成个性化图片
- 支持下载和分享

### 3. 在线烟花许愿
- 实时烟花动画效果
- 可写新年愿望
- 点击屏幕放烟花
- 自动播放模式

### 4. 强制关注机制
- 未关注用户访问时弹出强制关注提示
- 营销话术："关注立享无限次拜年神器制作！"
- 关注后自动解锁所有功能

### 5. 分享功能
- 一键分享给好友
- 复制祝福语
- 分享传播引流

## 🎯 营销话术设计

### 首页/功能入口
- "关注立享无限次拜年神器制作！"
- "马年专属AI拜年图，一键生成"
- "已有 8,234 人关注使用"

### 强制关注弹窗
- 标题："关注立享无限次拜年神器制作！"
- 描述："马年专属AI拜年图，一键生成个性化祝福"
- 权益展示：
  - ✅ 20+马年主题模板
  - ✅ 高清无水印下载
  - ✅ 无限次免费使用

### 成功关注后
- "🎉 尊贵会员"
- "无限使用已解锁"
- "尊贵会员，畅玩所有功能"

## 💰 技术方案（0元预算）

### 前端技术栈
- Vue 3（免费开源）
- Vue Router（免费）
- Vite（免费构建工具）
- Canvas API（原生JavaScript）
- LocalStorage（浏览器本地存储）

### 后端方案（可选）
- **方案1：纯前端实现（演示用）**
  - 使用LocalStorage记录关注状态
  - 适合测试和演示

- **方案2：Cloudflare Workers（免费额度）**
  - 注册Cloudflare账号（免费）
  - 创建Worker验证用户关注状态
  - 每天免费10万次请求

- **方案3：腾讯云开发（免费额度）**
  - 微信小程序配套使用
  - 免费云函数调用额度

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 本地开发
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 📱 部署到微信

### 1. 准备工作
- 注册微信公众号（服务号或订阅号）
- 获取公众号ID（__biz参数）
- 配置JS接口安全域名

### 2. 上传代码
- 将打包后的dist目录上传到服务器
- 或使用Cloudflare Pages / Vercel免费托管

### 3. 配置公众号
- 在公众号后台设置自定义菜单
- 链接到你的H5页面

### 4. 配置关注回复
- 在公众号后台设置被关注自动回复
- 发送马年祝福文案

### 5. 替换关注链接
在以下文件中替换公众号ID：
- `src/utils/followCheck.js` - 第59行
- `src/views/Generator.vue` - handleForceFollow方法
- `src/views/Home.vue` - 如需要

```javascript
// 替换为你的公众号ID
window.location.href = `https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=你的公众号ID==&scene=126#wechat_redirect`
```

## 📂 项目结构

```
new-year-horse/
├── src/
│   ├── components/          # 公共组件
│   │   └── FollowModal.vue # 关注弹窗
│   ├── utils/              # 工具函数
│   │   └── followCheck.js  # 关注状态检测
│   ├── views/              # 页面组件
│   │   ├── Home.vue        # 首页
│   │   ├── Blessing.vue    # 祝福页面
│   │   ├── Firework.vue    # 烟花页面
│   │   └── Generator.vue   # 生成器页面
│   ├── App.vue             # 根组件
│   ├── main.js             # 入口文件
│   ├── router/             # 路由配置
│   │   └── index.js
│   └── style.css           # 全局样式
├── public/                 # 静态资源
├── index.html              # HTML模板
├── vite.config.js          # Vite配置
└── package.json            # 依赖配置
```

## 🎨 马年元素设计

### 关键区别：马年 vs 蛇年
- **马年（2026）**：🐴 马、马到成功、一马当先、龙马精神、马年大吉
- **蛇年（2025）**：🐍 蛇、金蛇狂舞、蛇年如意

### 马年专属元素
- 颜色：红色、金色（传统喜庆色）
- 动物：🐴 马
- 吉祥话：
  - 马到成功
  - 一马当先
  - 龙马精神
  - 马年大吉
  - 万马奔腾
  - 金马呈祥
  - 马步青云

## 📊 数据追踪

### 本地存储Key
- `ny_follow_status` - 关注状态
- `ny_follow_click` - 关注点击时间
- `ny_quota` - 生成次数额度
- `ny_user_id` - 用户ID
- `ny_temp_photo` - 临时照片
- `ny_seen_follow_modal` - 是否看过强制关注弹窗

### 建议后端API（需自行实现）
- `GET /api/check-follow?userId=xxx` - 检查关注状态
- `POST /api/record-follow` - 记录关注行为
- `POST /api/record-generate` - 记录生成次数
- `GET /api/stats` - 获取统计数据

## 🔒 安全注意事项

1. 本地存储方案仅适合演示，生产环境建议使用后端验证
2. 关注状态验证需要后端API支持
3. 建议使用Cloudflare Workers或类似方案实现免费后端

## 📝 注意事项

1. **马年年份**：2026年是丙午马年，2025年是乙巳蛇年
2. **公众号类型**：服务号和订阅号均可，服务号有更多接口
3. **免费方案**：纯前端方案适合测试，生产环境建议使用免费Worker方案
4. **模板图片**：当前使用纯色背景+文字，可替换为真实模板图片

## 🎯 营销建议

1. **活动时间**：春节期间（除夕至正月十五）
2. **朋友圈引流**：鼓励用户分享生成的拜年图
3. **裂变机制**：邀请好友增加生成次数
4. **活动总结**：收集用户数据，后续精准运营

## 📄 许可证

MIT License - 可自由使用和修改

## 🤝 贡献

欢迎提交Issue和Pull Request！

---

⚠️ **特别说明**：本项目为演示用途，生产使用需要配置真实的后端API验证关注状态。
